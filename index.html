<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine Heart Explosion Deluxe</title>
<style>
  body {
    margin: 0;
    background-color: #111;
    overflow: hidden;
    font-family: Arial, sans-serif;
  }

  #message {
    position: absolute;
    top: 50%;
    width: 100%;
    text-align: center;
    font-size: 36px;
    color: #ff77aa;
    opacity: 0;
    transform: translateY(-50%);
    letter-spacing: 2px;
    transition: opacity 2s;
  }
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<div id="message">Happy Valentine's Day! ❤️ From Kira</div>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let heartX = canvas.width/2;
let heartY = canvas.height/2;
let heartBeat = 0;
let particles = [];

// Generate heart points
function heartPoint(t){
    return {
        x: 16*Math.pow(Math.sin(t),3),
        y: 13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t)
    };
}

// Create 1200 particles
for(let i=0;i<1200;i++){
    let t=Math.random()*Math.PI*2;
    let p=heartPoint(t);
    particles.push({
        x: heartX + p.x*15,
        y: heartY - p.y*15,
        vx:0,
        vy:0,
        color:`hsl(${Math.random()*360},100%,60%)`,
        size: Math.random()*3+1
    });
}

let exploded=false;

function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    if(!exploded){
        heartBeat+=0.05;
        let scale=1+0.15*Math.sin(heartBeat);
        particles.forEach(p=>{
            let dx=p.x-heartX;
            let dy=p.y-heartY;
            ctx.beginPath();
            ctx.arc(heartX+dx*scale, heartY+dy*scale, p.size, 0, Math.PI*2);
            ctx.fillStyle=p.color;
            ctx.shadowColor=p.color;
            ctx.shadowBlur=5;
            ctx.fill();
        });
    } else {
        particles.forEach(p=>{
            p.x += p.vx;
            p.y += p.vy;
            p.vy += 0.05; // gravity
            p.vx *= 0.99; // air resistance
            p.vy *= 0.99;
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
            ctx.fillStyle=p.color;
            ctx.shadowColor=p.color;
            ctx.shadowBlur=10;
            ctx.fill();
        });
    }

    requestAnimationFrame(animate);
}

// Trigger explosion after 4s
setTimeout(()=>{
    exploded=true;
    particles.forEach(p=>{
        let angle=Math.random()*Math.PI*2;
        let speed=Math.random()*10+2;
        p.vx=Math.cos(angle)*speed;
        p.vy=Math.sin(angle)*speed;
    });

    // Show message with letter-by-letter effect
    const msg=document.getElementById('message');
    msg.style.opacity=1;
    const text=msg.innerText;
    msg.innerHTML="";
    text.split("").forEach((c,i)=>{
        setTimeout(()=>{ msg.innerHTML+=c; }, i*80);
    });

},4000);

animate();

// Resize canvas
window.addEventListener('resize', ()=>{
    canvas.width=window.innerWidth;
    canvas.height=window.innerHeight;
    heartX=canvas.width/2;
    heartY=canvas.height/2;
});
</script>
</body>
</html>


