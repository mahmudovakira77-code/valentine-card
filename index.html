<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Для тебя ❤️</title>

<style>
html,body{
    margin:0;
    padding:0;
    background:#0d0d16;
    overflow:hidden;
    font-family:Arial, Helvetica, sans-serif;
}

canvas{
    position:absolute;
    top:0;
    left:0;
}

#text{
    position:absolute;
    width:100%;
    top:65%;
    text-align:center;
    color:white;
    font-size:32px;
    opacity:0;
    transition:1.5s;
}

.show{
    opacity:1 !important;
}
</style>
</head>

<body>

<canvas id="c"></canvas>
<div id="text">С Днём святого Валентина ❤️</div>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

function resize(){
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resize();
window.onresize = resize;

let particles = [];
let heart = [];

function heartShape(t){
    return {
        x: 16 * Math.pow(Math.sin(t),3),
        y: 13 * Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t)
    };
}

for(let i=0;i<Math.PI*2;i+=0.05){
    let pos = heartShape(i);
    heart.push({
        x: canvas.width/2 + pos.x*15,
        y: canvas.height/2 - pos.y*15
    });
}

for(let i=0;i<500;i++){
    particles.push({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height,
        tx: heart[i%heart.length].x,
        ty: heart[i%heart.length].y,
        size: Math.random()*2+1,
        speed: Math.random()*0.02+0.01
    });
}

let phase = 0;

function draw(){
    ctx.fillStyle="rgba(13,13,22,0.25)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    particles.forEach(p=>{
        if(phase==0){
            p.x += (p.tx-p.x)*p.speed;
            p.y += (p.ty-p.y)*p.speed;
        }
        else{
            p.y += 2+Math.random()*2;
            p.x += Math.sin(p.y*0.05);
        }

        ctx.beginPath();
        ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
        ctx.fillStyle="rgb(255,80,120)";
        ctx.fill();
    });

    requestAnimationFrame(draw);
}

draw();

setTimeout(()=>{
    phase=1;
    document.getElementById("text").classList.add("show");
},7000);
</script>

</body>
</html>
